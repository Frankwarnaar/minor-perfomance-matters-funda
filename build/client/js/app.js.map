{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","assets/js/app.js","assets/js/cfg.js","assets/js/modules/App.js","assets/js/modules/Controller.js","assets/js/modules/Store.js","assets/js/modules/Utils.js","assets/js/modules/View.js","assets/js/vendor/routie.min.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*jshint esversion: 6 */\n\nimport App from './modules/App.js';\n\n(() => {\n\t'use strict';\n\n\tconst app = new App();\n\n})(App);","/*jshint esversion: 6 */\n\nconst config = {\n\tfunda: {\n\t\tkey: '271175433a7c4fe2a45750d385dd9bfd',\n\t\tbaseUrls: {\n\t\t\tsearch: 'http://funda.kyrandia.nl/feeds/Aanbod.svc/json',\n\t\t\tobjects: 'http://funda.kyrandia.nl/feeds/Aanbod.svc/json/detail',\n\t\t\tautoSuggest: 'http://zb.funda.info/frontend/json',\n\t\t\tmap: 'http://mt1.funda.nl/maptiledata.ashx/json'\n\t\t}\n\t},\n\tgoogle: {\n\t\tkey: 'AIzaSyA5emTbr8ytwvzrw9NQW7zlXg1NubeDG5M',\n\t\tbaseUrls: {\n\t\t\tmaps: 'https://maps.googleapis.com/maps/api/geocode/json',\n\t\t\troads: 'https://roads.googleapis.com/v1/nearestRoads'\n\t\t}\n\t},\n\tgeoNames: {\n\t\tbaseUrl: 'http://api.geonames.org/findNearbyStreetsOSMJSON?formatted=true&style=full',\n\t\tuserName: 'frankwarnaar@gmail.com'\n\t}\n};\n\nexport default config;","/*jshint esversion: 6 */\n\nimport config from '../cfg.js';\nimport Controller from './Controller.js';\nimport View from './View.js';\nimport Store from './Store.js';\nimport Utils from './Utils.js';\n\nclass App {\n\tconstructor() {\n\t\tthis.config     = config;\n\t\tthis.controller = new Controller(this);\n\t\tthis.view       = new View(this);\n\t\tthis.store      = new Store(this);\n\t\tthis.utils      = new Utils();\n\t\tthis.init();\n\t}\n\n\tgetCoords() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (navigator.geolocation.getCurrentPosition) {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(data => {\n\t\t\t\t\tresolve(data.coords);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treject(`Couldn't get the location from your browser`);\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchRequest(url) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tfetch(url)\n\t\t\t.then(response => {\n\t\t\t\tif (response.status !== 200) {\n\t\t\t\t\treject(response.status);\n\t\t\t\t} else {\n\t\t\t\t\t// Examine the text in the response\n\t\t\t\t\tresponse.json().then((data) => {\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t\t});\n\t}\n\n\thandleRequest(method, url) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar xhr = new XMLHttpRequest();\n\n\t\t\txhr.open(method, url);\n\n\t\t\txhr.onload = function() {\n\t\t\t\tif (this.status >= 200 && this.status < 300) {\n\t\t\t\t\tresolve(JSON.parse(xhr.responseText));\n\t\t\t\t} else {\n\t\t\t\t\treject({status: this.status, statusText: xhr.statusText});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = function() {\n\t\t\t\treject({status: this.status, statusText: xhr.statusText});\n\t\t\t};\n\n\t\t\txhr.send();\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.controller.init();\n\t}\n}\n\nexport default App;","/*jshint esversion: 6 */\n\nimport routie from '../vendor/routie.min.js';\n\nclass Controller {\n\tconstructor(app) {\n\t\tthis.app = app;\n\t}\n\n\tinit() {\n\t\tthis.router();\n\t\tthis.imageViewer();\n\t\tthis.sortObjects();\n\t\tthis.filterObjects();\n\t}\n\n\tsortObjects() {\n\t\tconst $sortOption = document.querySelector('#sort');\n\t\t$sortOption.addEventListener('change', () => {\n\t\t\tthis.app.view.reoderObjects($sortOption.value);\n\t\t});\n\t}\n\n\tfilterObjects() {\n\t\tconst $types = document.querySelectorAll('[name=\"type\"]');\n\n\t\t$types.forEach($type => {\n\t\t\t$type.addEventListener('change', (e) => {\n\t\t\t\tconst $checkedTypes = document.querySelectorAll('[name=\"type\"]:checked');\n\t\t\t\tconst checkedTypes = [];\n\t\t\t\t$checkedTypes.forEach($type => {\n\t\t\t\t\tcheckedTypes.push($type.value);\n\t\t\t\t});\n\n\t\t\t\tthis.app.view.filterObjects(checkedTypes);\n\t\t\t});\n\t\t});\n\t}\n\n\timageViewer() {\n\t\tconst $imageContainer = document.querySelector('#image');\n\t\tconst $closeImage = document.querySelector('#image a');\n\n\t\t$closeImage.addEventListener('click', () => {\n\t\t\tthis.app.view.showElement($imageContainer, false);\n\t\t});\n\t}\n\n\trouter() {\n\t\tconst app = this.app;\n\t\troutie({\n\t\t\t// Detail page\n\t\t\t'details/:objectId/:type'(objectId, type) {\n\t\t\t\tconst hash = window.location.hash;\n\n\t\t\t\tapp.view.activatePage('#details');\n\t\t\t\tapp.view.renderObject(objectId, type);\n\n\t\t\t\tapp.store.lastLocation = hash;\n\t\t\t},\n\t\t\t// Fallback to starting page\n\t\t\t'*'() {\n\t\t\t\tconst hash = window.location.hash;\n\n\t\t\t\tif (hash.includes('image')) {\n\t\t\t\t\tconst imageUrl = hash.substr(7, hash.length - 1);\n\t\t\t\t\tapp.view.renderImage(imageUrl);\n\t\t\t\t} else {\n\t\t\t\t\tapp.view.renderObjects();\n\t\t\t\t\tapp.view.activatePage(`#results`);\n\t\t\t\t\tapp.view.showElement(document.querySelector('#image'), false);\n\t\t\t\t\tapp.store.lastLocation = hash;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport default Controller;","/*jshint esversion: 6 */\n\nclass Store {\n\tconstructor(app) {\n\t\tthis.app = app;\n\t}\n\n\tgetObjectsNearby() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t// Get coordinates of users location\n\t\t\tthis.app.getCoords()\n\t\t\t\t.then(coords => {\n\t\t\t\t\t// Get street of location\n\t\t\t\t\tthis.app.handleRequest('GET', `${this.app.config.google.baseUrls.maps}?latlng=${coords.latitude},${coords.longitude}&key=${this.app.config.google.key}`)\n\t\t\t\t.then(location => {\n\t\t\t\t\tconst locationComponents = location.results[0].address_components;\n\n\t\t\t\t\tlet street = locationComponents.filter(component => {\n\t\t\t\t\t\treturn component.types.includes('route');\n\t\t\t\t\t})[0];\n\t\t\t\t\tstreet = street.long_name;\n\n\t\t\t\t\tlet city = locationComponents.filter(component => {\n\t\t\t\t\t\treturn component.types.includes('locality');\n\t\t\t\t\t})[0];\n\t\t\t\t\tcity = city.long_name;\n\n\t\t\t\t\tconst requests = [\n\t\t\t\t\t\tthis.app.fetchRequest(`${this.app.config.funda.baseUrls.search}/${this.app.config.funda.key}?type=koop&zo=/${city}/${street}/+1km&page=1&pagesize=25`),\n\t\t\t\t\t\tthis.app.fetchRequest(`${this.app.config.funda.baseUrls.search}/${this.app.config.funda.key}?type=huur&zo=/${city}/${street}/+1km&page=1&pagesize=25`),\n\t\t\t\t\t];\n\n\t\t\t\t\tPromise.all(requests)\n\t\t\t\t.then(results => {\n\t\t\t\t\t\tconst streets = results.map(street => {\n\t\t\t\t\t\t\treturn street.Objects;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// source array concatenation solution: http://stackoverflow.com/questions/27266550/how-to-flatten-nested-array-in-javascript#answer-37469411\n\t\t\t\t\t\tlet objects = [].concat.apply([], streets);\n\t\t\t\t\t\tobjects = [...new Set(objects)];\n\n\t\t\t\t\t\tthis.objects = objects;\n\t\t\t\t\t\tresolve(objects);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\treject(error);\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport default Store;","/*jshint esversion: 6 */\nclass Utils {\n\tgetStreet(components) {\n\t\tcomponents = components.filter(component => {\n\t\t\treturn component.types.includes('locality');\n\t\t});\n\n\t\treturn components[0].long_name;\n\t}\n\n\t// Remove item from array if it contains a subtring\n\tfilterArray(array, values) {\n\t\treturn array.filter(item => {\n\t\t\tif (values.includes('koop') && item.Koopprijs !== null) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (values.includes('huur') && item.Huurprijs !== null) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\t}\n\n\tsortArray(array, key) {\n\t\treturn array.sort((a, b) => {\n\t\t\tif (typeof(a[key]) === 'string') {\n\t\t\t\treturn a[key].localeCompare(b[key]);\n\t\t\t} else {\n\t\t\t\treturn a[key] - b[key];\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport default Utils;","/*jshint esversion: 6 */\n\nclass View {\n\tconstructor(app) {\n\t\tthis.app = app;\n\n\t\tthis.$ = {\n\t\t\tresults: document.querySelector('.results'),\n\t\t\tresultsList: document.querySelector('#results-list'),\n\t\t\tnoResults: document.querySelector('.results p'),\n\t\t\tdetails: document.querySelector('#details'),\n\t\t\timageContainer: document.querySelector('#image'),\n\t\t\tbody: document.querySelector('body'),\n\t\t\tcloseButton: document.querySelector('#image a'),\n\t\t\tlastImg: document.querySelector('#image img'),\n\t\t\tpages: Array.from(document.querySelectorAll('[data-page]')),\n\t\t\tloader:  document.querySelector('.loader-container'),\n\t\t\tdescription:  document.querySelector('.loader-container p')\n\t\t};\n\t}\n\n\trenderObjects() {\n\t\t// Check if there aren't any objects rendered yet\n\t\tif (this.$.resultsList.innerHTML.length === 0) {\n\t\t\tthis.showLoader(true, true);\n\t\t\tthis.app.store.getObjectsNearby()\n\t\t\t.then(objects => {\n\t\t\t\tthis.renderList(objects);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\n\t\t\t\tthis.$.results.insertAdjacentHTML('beforeend', 'Er is iets mis gegaan bij het ophalen van huizen in uw buurt. Probeer het later nog eens.');\n\n\t\t\t\tthis.showElement(this.$.results, true);\n\t\t\t\tthis.showLoader(false);\n\t\t\t});\n\t\t}\n\t}\n\n\trenderList(objects) {\n\t\tthis.clearView(this.$.resultsList);\n\t\tthis.showElement(this.$.noResults, false);\n\n\t\tif (objects.length > 0) {\n\t\t\tthis.app.store.objects = objects;\n\t\t\t// Render all the objects\n\t\t\tobjects.map(object => {\n\t\t\t\tconst $listItem = `\n\t\t\t\t<li data-id=\"${object.Id}\">\n\t\t\t\t<img src=\"${object.FotoLarge}\" alt=\"${object.Adres}\">\n\t\t\t\t<a href=\"#details/${object.Id}/${object.Koopprijs ? 'koop' : 'huur'}\"><h2>${object.Adres}</h2></a>\n\t\t\t\t<span><strong>€${object.Koopprijs ? object.Koopprijs.toLocaleString('currency') : ''}${object.Huurprijs ? object.Huurprijs.toLocaleString('currency') + ' p/m' : ''}</strong></span>\n\t\t\t\t${object.Woonoppervlakte ? '<span>' + object.Woonoppervlakte + 'm<sup>2</sup></span>' : ''}\n\t\t\t\t</li>\n\t\t\t\t`;\n\n\t\t\t\tthis.$.resultsList.insertAdjacentHTML('beforeend', $listItem);\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.showElement(this.$.noResults, true);\n\t\t}\n\t\tthis.showElement(this.$.results, true);\n\t\tthis.showLoader(false);\n\t}\n\n\trenderObject(id, type) {\n\t\tthis.app.view.showElement(this.$.imageContainer, false);\n\n\t\t// Check if the object isn't already rendered.\n\t\tif (this.app.store.lastDetailPage !== id) {\n\t\t\tthis.clearView(this.$.details);\n\t\t\tthis.showLoader(true, false);\n\t\t\t// Get details\n\t\t\tthis.app.fetchRequest(`${this.app.config.funda.baseUrls.objects}/${this.app.config.funda.key}/${type}/${id}`)\n\t\t\t.then(details => {\n\t\t\t\tthis.app.store.lastDetailPage = id;\n\n\t\t\t\t// Get all the medium images of an object\n\t\t\t\tlet gallery = '';\n\t\t\t\tdetails.Media.map(picture => {\n\t\t\t\t\tconst bigPic = picture.MediaItems.filter(source => {\n\t\t\t\t\t\tif (source.Url.includes('middel')) {\n\t\t\t\t\t\t\treturn source.Url;\n\t\t\t\t\t\t} else if (source.Url.includes('groot')) {\n\t\t\t\t\t\t\treturn source.Url;\n\t\t\t\t\t\t} else if (source.Url.includes('grotere')) {\n\t\t\t\t\t\t\treturn source.Url;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tpicture.MediaItems.map(source => {\n\t\t\t\t\t\tif (source.Url.includes('middel')) {\n\t\t\t\t\t\t\tif (bigPic.length > 0) {\n\t\t\t\t\t\t\t\tgallery += `<a href=\"#image/${bigPic[bigPic.length - 1].Url}\"><img src=\"${source.Url}\" alt=\"${details.Adres}\"></a>`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// Filter description\n\t\t\t\tlet descriptions = details.VolledigeOmschrijving.split('\\n');\n\t\t\t\tdescriptions = descriptions.filter(item => {\n\t\t\t\t\treturn item.length > 0;\n\t\t\t\t});\n\n\t\t\t\t// Structure description\n\t\t\t\tconst description = descriptions.reduce((buffer, item) => {\n\t\t\t\t\tif (item[0] === '-') {\n\t\t\t\t\t\treturn `${buffer} <li>${item.substr(1, item.length - 1)}</li>`;\n\t\t\t\t\t} if (item[item.length - 2] === ':') {\n\t\t\t\t\t\treturn `${buffer} <h3>${item}</h3>`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn `${buffer} <p>${item}</p>`;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n\t\t\t\t// Set content\n\t\t\t\tconst content = `\n\t\t\t\t<section class=\"object__images\">\n\t\t\t\t\t<img src=\"${details.HoofdFoto}\" alt=${details.Adres}>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t${gallery}\n\t\t\t\t\t</section>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h1>${details.Adres}</h1>\n\t\t\t\t\t<h2>${details.Postcode} ${details.Plaats}</h2>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt>Prijs:</dt><dd><strong>€\n\t\t\t\t\t\t${details.Koopprijs ? details.Koopprijs : details.Huurprijs}\n\t\t\t\t\t\t</strong></dd>\n\t\t\t\t\t\t<dt>Aantal kamers:</dt><dd>${details.AantalKamers}</dd>\n\t\t\t\t\t\t<dt>Aantal badkamers:</dt><dd>${details.AantalBadkamers}</dd>\n\t\t\t\t\t\t<dt>Bouwjaar:</dt><dd>${details.Bouwjaar}</dd>\n\t\t\t\t\t\t<dt>Oppervlakte:</dt><dd>${details.WoonOppervlakte} m<sup>2</sup></dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<p>${description}</p>\n\t\t\t\t</section>\n\t\t\t\t`;\n\n\t\t\t\tthis.$.details.insertAdjacentHTML('beforeend', content);\n\n\t\t\t\tthis.showLoader(false);\n\t\t\t\tthis.showElement(this.$.details, true);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t\t}\n\t}\n\n\trenderImage(url) {\n\n\t\tthis.$.body.classList.add('no-scroll');\n\n\t\tif (this.$.lastImg) {\n\t\t\tthis.$.imageContainer.removeChild(this.$.lastImg);\n\t\t}\n\n\t\tif (this.app.store.lastLocation) {\n\t\t\tthis.$.closeButton.setAttribute('href', this.app.store.lastLocation);\n\t\t}\n\n\t\tthis.$.imageContainer.insertAdjacentHTML('beforeend', `<img src=\"${url}\"/>`);\n\t\tthis.showElement(this.$.imageContainer, true);\n\t}\n\n\treoderObjects(sortOption) {\n\t\tthis.app.store.objects = this.app.utils.sortArray(this.app.store.objects, sortOption);\n\t\tthis.app.store.objects.map((object, i) => {\n\t\t\tdocument.querySelector(`[data-id=\"${object.Id}\"]`).style.order = i;\n\t\t});\n\t}\n\n\tfilterObjects(checkedTypes) {\n\t\tthis.app.store.filteredObjects = this.app.utils.filterArray(this.app.store.objects, checkedTypes);\n\t\tthis.renderList(this.app.store.filteredObjects);\n\t}\n\n\t// Make the current page visible and all the other invisible\n\tactivatePage(route) {\n\t\tthis.$.pages.forEach($page => {\n\t\t\tif (`#${$page.getAttribute('id')}` === route) {\n\t\t\t\tthis.showElement($page, true);\n\t\t\t} else {\n\t\t\t\tthis.showElement($page, false);\n\t\t\t}\n\t\t});\n\t}\n\n\tshowLoader(show, content) {\n\t\tthis.showElement(this.$.loader, show);\n\t\tthis.showElement(this.$.description, content);\n\t}\n\n\tshowElement($el, show) {\n\t\tif (show) {\n\t\t\t$el.classList.remove('hidden');\n\t\t} else{\n\t\t\t$el.classList.add('hidden');\n\t\t}\n\t}\n\n\tclearView($el) {\n\t\t$el.innerHTML = '';\n\t}\n}\n\nexport default View;","/*!\n * routie - a tiny hash router\n * v0.3.2\n * http://projects.jga.me/routie\n * copyright Greg Allen 2016\n * MIT License\n*/\nvar Routie=function(a,b){var c=[],d={},e=\"routie\",f=a[e],g=function(a,b){this.name=b,this.path=a,this.keys=[],this.fns=[],this.params={},this.regex=h(this.path,this.keys,!1,!1)};g.prototype.addHandler=function(a){this.fns.push(a)},g.prototype.removeHandler=function(a){for(var b=0,c=this.fns.length;c>b;b++){var d=this.fns[b];if(a==d)return void this.fns.splice(b,1)}},g.prototype.run=function(a){for(var b=0,c=this.fns.length;c>b;b++)this.fns[b].apply(this,a)},g.prototype.match=function(a,b){var c=this.regex.exec(a);if(!c)return!1;for(var d=1,e=c.length;e>d;++d){var f=this.keys[d-1],g=\"string\"==typeof c[d]?decodeURIComponent(c[d]):c[d];f&&(this.params[f.name]=g),b.push(g)}return!0},g.prototype.toURL=function(a){var b=this.path;for(var c in a)b=b.replace(\"/:\"+c,\"/\"+a[c]);if(b=b.replace(/\\/:.*\\?/g,\"/\").replace(/\\?/g,\"\"),-1!=b.indexOf(\":\"))throw new Error(\"missing parameters for url: \"+b);return b};var h=function(a,b,c,d){return a instanceof RegExp?a:(a instanceof Array&&(a=\"(\"+a.join(\"|\")+\")\"),a=a.concat(d?\"\":\"/?\").replace(/\\/\\(/g,\"(?:/\").replace(/\\+/g,\"__plus__\").replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g,function(a,c,d,e,f,g){return b.push({name:e,optional:!!g}),c=c||\"\",\"\"+(g?\"\":c)+\"(?:\"+(g?c:\"\")+(d||\"\")+(f||d&&\"([^/.]+?)\"||\"([^/]+?)\")+\")\"+(g||\"\")}).replace(/([\\/.])/g,\"\\\\$1\").replace(/__plus__/g,\"(.+)\").replace(/\\*/g,\"(.*)\"),new RegExp(\"^\"+a+\"$\",c?\"\":\"i\"))},i=function(a,b){var e=a.split(\" \"),f=2==e.length?e[0]:null;a=2==e.length?e[1]:e[0],d[a]||(d[a]=new g(a,f),c.push(d[a])),d[a].addHandler(b)},j=function(a,b){if(\"function\"==typeof b)i(a,b),j.reload();else if(\"object\"==typeof a){for(var c in a)i(c,a[c]);j.reload()}else\"undefined\"==typeof b&&j.navigate(a)};j.lookup=function(a,b){for(var d=0,e=c.length;e>d;d++){var f=c[d];if(f.name==a)return f.toURL(b)}},j.remove=function(a,b){var c=d[a];c&&c.removeHandler(b)},j.removeAll=function(){d={},c=[]},j.navigate=function(a,b){b=b||{};var c=b.silent||!1;c&&o(),setTimeout(function(){window.location.hash=a,c&&setTimeout(function(){n()},1)},1)},j.noConflict=function(){return a[e]=f,j};var k=function(){return window.location.hash.substring(1)},l=function(a,b){var c=[];return b.match(a,c)?(b.run(c),!0):!1},m=j.reload=function(){for(var a=k(),b=0,d=c.length;d>b;b++){var e=c[b];if(l(a,e))return}},n=function(){a.addEventListener?a.addEventListener(\"hashchange\",m,!1):a.attachEvent(\"onhashchange\",m)},o=function(){a.removeEventListener?a.removeEventListener(\"hashchange\",m):a.detachEvent(\"onhashchange\",m)};return n(),b?j:void(a[e]=j)};\"undefined\"==typeof module?Routie(window):module.exports=Routie(window,!0);"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvYXBwLmpzIiwiYXNzZXRzL2pzL2NmZy5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL0FwcC5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL0NvbnRyb2xsZXIuanMiLCJhc3NldHMvanMvbW9kdWxlcy9TdG9yZS5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL1V0aWxzLmpzIiwiYXNzZXRzL2pzL21vZHVsZXMvVmlldy5qcyIsImFzc2V0cy9qcy92ZW5kb3Ivcm91dGllLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDRUE7Ozs7OztBQUVBLENBQUMsWUFBTTtBQUNOOztBQUVBLEtBQU0sTUFBTSxtQkFBWjtBQUVBLENBTEQsaUIsQ0FKQTs7Ozs7Ozs7QUNBQTs7QUFFQSxJQUFNLFNBQVM7QUFDZCxRQUFPO0FBQ04sT0FBSyxrQ0FEQztBQUVOLFlBQVU7QUFDVCxXQUFRLGdEQURDO0FBRVQsWUFBUyx1REFGQTtBQUdULGdCQUFhLG9DQUhKO0FBSVQsUUFBSztBQUpJO0FBRkosRUFETztBQVVkLFNBQVE7QUFDUCxPQUFLLHlDQURFO0FBRVAsWUFBVTtBQUNULFNBQU0sbURBREc7QUFFVCxVQUFPO0FBRkU7QUFGSCxFQVZNO0FBaUJkLFdBQVU7QUFDVCxXQUFTLDRFQURBO0FBRVQsWUFBVTtBQUZEO0FBakJJLENBQWY7O2tCQXVCZSxNOzs7Ozs7Ozs7cWpCQ3pCZjs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztJQUVNLEc7QUFDTCxnQkFBYztBQUFBOztBQUNiLE9BQUssTUFBTDtBQUNBLE9BQUssVUFBTCxHQUFrQix5QkFBZSxJQUFmLENBQWxCO0FBQ0EsT0FBSyxJQUFMLEdBQWtCLG1CQUFTLElBQVQsQ0FBbEI7QUFDQSxPQUFLLEtBQUwsR0FBa0Isb0JBQVUsSUFBVixDQUFsQjtB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QTdCLENBQXpEO0FBQXlGLEdBQTFUO0FBQUEsTUFBMlQsSUFBRSxTQUFGLENBQUUsR0FBVTtBQUFDLE1BQUUsbUJBQUYsR0FBc0IsRUFBRSxtQkFBRixDQUFzQixZQUF0QixFQUFtQyxDQUFuQyxDQUF0QixHQUE0RCxFQUFFLFdBQUYsQ0FBYyxjQUFkLEVBQTZCLENBQTdCLENBQTVEO0FBQTRGLEdBQXBhLENBQXFhLE9BQU8sS0FBSSxJQUFFLENBQUYsR0FBSSxNQUFLLEVBQUUsQ0FBRixJQUFLLENBQVYsQ0FBZjtBQUE0QixDQUEzOEUsQ0FBNDhFLGVBQWEsT0FBTyxNQUFwQixHQUEyQixPQUFPLE1BQVAsQ0FBM0IsR0FBMEMsT0FBTyxPQUFQLEdBQWUsT0FBTyxNQUFQLEVBQWMsQ0FBQyxDQUFmLENBQXpEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5pbXBvcnQgQXBwIGZyb20gJy4vbW9kdWxlcy9BcHAuanMnO1xuXG4oKCkgPT4ge1xuXHQndXNlIHN0cmljdCc7XG5cblx0Y29uc3QgYXBwID0gbmV3IEFwcCgpO1xuXG59KShBcHApOyIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5jb25zdCBjb25maWcgPSB7XG5cdGZ1bmRhOiB7XG5cdFx0a2V5OiAnMjcxMTc1NDMzYTdjNGZlMmE0NTc1MGQzODVkZDliZmQnLFxuXHRcdGJhc2VVcmxzOiB7XG5cdFx0XHRzZWFyY2g6ICdodHRwOi8vZnVuZGEua3lyYW5kaWEubmwvZmVlZHMvQWFuYm9kLnN2Yy9qc29uJyxcblx0XHRcdG9iamVjdHM6ICdodHRwOi8vZnVuZGEua3lyYW5kaWEubmwvZmVlZHMvQWFuYm9kLnN2Yy9qc29uL2RldGFpbCcsXG5cdFx0XHRhdXRvU3VnZ2VzdDogJ2h0dHA6Ly96Yi5mdW5kYS5pbmZvL2Zyb250ZW5kL2pzb24nLFxuXHRcdFx0bWFwOiAnaHR0cDovL210MS5mdW5kYS5ubC9tYXB0aWxlZGF0YS5hc2h4L2pzb24nXG5cdFx0fVxuXHR9LFxuXHRnb29nbGU6IHtcblx0XHRrZXk6ICdBSXphU3lBNWVtVGJyOHl0d3Z6cnc5TlFXN3psWGcxTnViZURHNU0nLFxuXHRcdGJhc2VVcmxzOiB7XG5cdFx0XHRtYXBzOiAnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2dlb2NvZGUvanNvbicsXG5cdFx0XHRyb2FkczogJ2h0dHBzOi8vcm9hZHMuZ29vZ2xlYXBpcy5jb20vdjEvbmVhcmVzdFJvYWRzJ1xuXHRcdH1cblx0fSxcblx0Z2VvTmFtZXM6IHtcblx0XHRiYXNlVXJsOiAnaHR0cDovL2FwaS5nZW9uYW1lcy5vcmcvZmluZE5lYXJieVN0cmVldHNPU01KU09OP2Zvcm1hdHRlZD10cnVlJnN0eWxlPWZ1bGwnLFxuXHRcdHVzZXJOYW1lOiAnZnJhbmt3YXJuYWFyQGdtYWlsLmNvbSdcblx0fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29uZmlnOyIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NmZy5qcyc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi9WaWV3LmpzJztcbmltcG9ydCBTdG9yZSBmcm9tICcuL1N0b3JlLmpzJztcbmltcG9ydCBVdGlscyBmcm9tICcuL1V0aWxzLmpzJztcblxuY2xhc3MgQXBwIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5jb25maWcgICAgID0gY29uZmlnO1xuXHRcdHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKHRoaXMpO1xuXHRcdHRoaXMudmlldyAgICAgICA9IG5ldyBWaWV3KHRoaXMpO1xuXHRcdHRoaXMuc3RvcmUgICAgICA9IG5ldyBTdG9yZSh0aGlzKTtcblx0XHR0aGlzLnV0aWxzICAgICAgPSBuZXcgVXRpbHMoKTtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdGdldENvb3JkcygpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0aWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24pIHtcblx0XHRcdFx0bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihkYXRhID0+IHtcblx0XHRcdFx0XHRyZXNvbHZlKGRhdGEuY29vcmRzKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZWplY3QoYENvdWxkbid0IGdldCB0aGUgbG9jYXRpb24gZnJvbSB5b3VyIGJyb3dzZXJgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZldGNoUmVxdWVzdCh1cmwpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0ZmV0Y2godXJsKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4ge1xuXHRcdFx0XHRpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcblx0XHRcdFx0XHRyZWplY3QocmVzcG9uc2Uuc3RhdHVzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBFeGFtaW5lIHRoZSB0ZXh0IGluIHRoZSByZXNwb25zZVxuXHRcdFx0XHRcdHJlc3BvbnNlLmpzb24oKS50aGVuKChkYXRhKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGRhdGEpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdGhhbmRsZVJlcXVlc3QobWV0aG9kLCB1cmwpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cdFx0XHR4aHIub3BlbihtZXRob2QsIHVybCk7XG5cblx0XHRcdHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMCkge1xuXHRcdFx0XHRcdHJlc29sdmUoSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVqZWN0KHtzdGF0dXM6IHRoaXMuc3RhdHVzLCBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHR4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZWplY3Qoe3N0YXR1czogdGhpcy5zdGF0dXMsIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0fSk7XG5cdFx0XHR9O1xuXG5cdFx0XHR4aHIuc2VuZCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0aW5pdCgpIHtcblx0XHR0aGlzLmNvbnRyb2xsZXIuaW5pdCgpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDsiLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuaW1wb3J0IHJvdXRpZSBmcm9tICcuLi92ZW5kb3Ivcm91dGllLm1pbi5qcyc7XG5cbmNsYXNzIENvbnRyb2xsZXIge1xuXHRjb25zdHJ1Y3RvcihhcHApIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0fVxuXG5cdGluaXQoKSB7XG5cdFx0dGhpcy5yb3V0ZXIoKTtcblx0XHR0aGlzLmltYWdlVmlld2VyKCk7XG5cdFx0dGhpcy5zb3J0T2JqZWN0cygpO1xuXHRcdHRoaXMuZmlsdGVyT2JqZWN0cygpO1xuXHR9XG5cblx0c29ydE9iamVjdHMoKSB7XG5cdFx0Y29uc3QgJHNvcnRPcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc29ydCcpO1xuXHRcdCRzb3J0T3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcblx0XHRcdHRoaXMuYXBwLnZpZXcucmVvZGVyT2JqZWN0cygkc29ydE9wdGlvbi52YWx1ZSk7XG5cdFx0fSk7XG5cdH1cblxuXHRmaWx0ZXJPYmplY3RzKCkge1xuXHRcdGNvbnN0ICR0eXBlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tuYW1lPVwidHlwZVwiXScpO1xuXG5cdFx0JHR5cGVzLmZvckVhY2goJHR5cGUgPT4ge1xuXHRcdFx0JHR5cGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcblx0XHRcdFx0Y29uc3QgJGNoZWNrZWRUeXBlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tuYW1lPVwidHlwZVwiXTpjaGVja2VkJyk7XG5cdFx0XHRcdGNvbnN0IGNoZWNrZWRUeXBlcyA9IFtdO1xuXHRcdFx0XHQkY2hlY2tlZFR5cGVzLmZvckVhY2goJHR5cGUgPT4ge1xuXHRcdFx0XHRcdGNoZWNrZWRUeXBlcy5wdXNoKCR0eXBlLnZhbHVlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5hcHAudmlldy5maWx0ZXJPYmplY3RzKGNoZWNrZWRUeXBlcyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdGltYWdlVmlld2VyKCkge1xuXHRcdGNvbnN0ICRpbWFnZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbWFnZScpO1xuXHRcdGNvbnN0ICRjbG9zZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltYWdlIGEnKTtcblxuXHRcdCRjbG9zZUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5hcHAudmlldy5zaG93RWxlbWVudCgkaW1hZ2VDb250YWluZXIsIGZhbHNlKTtcblx0XHR9KTtcblx0fVxuXG5cdHJvdXRlcigpIHtcblx0XHRjb25zdCBhcHAgPSB0aGlzLmFwcDtcblx0XHRyb3V0aWUoe1xuXHRcdFx0Ly8gRGV0YWlsIHBhZ2Vcblx0XHRcdCdkZXRhaWxzLzpvYmplY3RJZC86dHlwZScob2JqZWN0SWQsIHR5cGUpIHtcblx0XHRcdFx0Y29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXG5cdFx0XHRcdGFwcC52aWV3LmFjdGl2YXRlUGFnZSgnI2RldGFpbHMnKTtcblx0XHRcdFx0YXBwLnZpZXcucmVuZGVyT2JqZWN0KG9iamVjdElkLCB0eXBlKTtcblxuXHRcdFx0XHRhcHAuc3RvcmUubGFzdExvY2F0aW9uID0gaGFzaDtcblx0XHRcdH0sXG5cdFx0XHQvLyBGYWxsYmFjayB0byBzdGFydGluZyBwYWdlXG5cdFx0XHQnKicoKSB7XG5cdFx0XHRcdGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblxuXHRcdFx0XHRpZiAoaGFzaC5pbmNsdWRlcygnaW1hZ2UnKSkge1xuXHRcdFx0XHRcdGNvbnN0IGltYWdlVXJsID0gaGFzaC5zdWJzdHIoNywgaGFzaC5sZW5ndGggLSAxKTtcblx0XHRcdFx0XHRhcHAudmlldy5yZW5kZXJJbWFnZShpbWFnZVVybCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YXBwLnZpZXcucmVuZGVyT2JqZWN0cygpO1xuXHRcdFx0XHRcdGFwcC52aWV3LmFjdGl2YXRlUGFnZShgI3Jlc3VsdHNgKTtcblx0XHRcdFx0XHRhcHAudmlldy5zaG93RWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2UnKSwgZmFsc2UpO1xuXHRcdFx0XHRcdGFwcC5zdG9yZS5sYXN0TG9jYXRpb24gPSBoYXNoO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjsiLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuY2xhc3MgU3RvcmUge1xuXHRjb25zdHJ1Y3RvcihhcHApIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0fVxuXG5cdGdldE9iamVjdHNOZWFyYnkoKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdC8vIEdldCBjb29yZGluYXRlcyBvZiB1c2VycyBsb2NhdGlvblxuXHRcdFx0dGhpcy5hcHAuZ2V0Q29vcmRzKClcblx0XHRcdFx0LnRoZW4oY29vcmRzID0+IHtcblx0XHRcdFx0XHQvLyBHZXQgc3RyZWV0IG9mIGxvY2F0aW9uXG5cdFx0XHRcdFx0dGhpcy5hcHAuaGFuZGxlUmVxdWVzdCgnR0VUJywgYCR7dGhpcy5hcHAuY29uZmlnLmdvb2dsZS5iYXNlVXJscy5tYXBzfT9sYXRsbmc9JHtjb29yZHMubGF0aXR1ZGV9LCR7Y29vcmRzLmxvbmdpdHVkZX0ma2V5PSR7dGhpcy5hcHAuY29uZmlnLmdvb2dsZS5rZXl9YClcblx0XHRcdFx0LnRoZW4obG9jYXRpb24gPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGxvY2F0aW9uQ29tcG9uZW50cyA9IGxvY2F0aW9uLnJlc3VsdHNbMF0uYWRkcmVzc19jb21wb25lbnRzO1xuXG5cdFx0XHRcdFx0bGV0IHN0cmVldCA9IGxvY2F0aW9uQ29tcG9uZW50cy5maWx0ZXIoY29tcG9uZW50ID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiBjb21wb25lbnQudHlwZXMuaW5jbHVkZXMoJ3JvdXRlJyk7XG5cdFx0XHRcdFx0fSlbMF07XG5cdFx0XHRcdFx0c3RyZWV0ID0gc3RyZWV0LmxvbmdfbmFtZTtcblxuXHRcdFx0XHRcdGxldCBjaXR5ID0gbG9jYXRpb25Db21wb25lbnRzLmZpbHRlcihjb21wb25lbnQgPT4ge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbXBvbmVudC50eXBlcy5pbmNsdWRlcygnbG9jYWxpdHknKTtcblx0XHRcdFx0XHR9KVswXTtcblx0XHRcdFx0XHRjaXR5ID0gY2l0eS5sb25nX25hbWU7XG5cblx0XHRcdFx0XHRjb25zdCByZXF1ZXN0cyA9IFtcblx0XHRcdFx0XHRcdHRoaXMuYXBwLmZldGNoUmVxdWVzdChgJHt0aGlzLmFwcC5jb25maWcuZnVuZGEuYmFzZVVybHMuc2VhcmNofS8ke3RoaXMuYXBwLmNvbmZpZy5mdW5kYS5rZXl9P3R5cGU9a29vcCZ6bz0vJHtjaXR5fS8ke3N0cmVldH0vKzFrbSZwYWdlPTEmcGFnZXNpemU9MjVgKSxcblx0XHRcdFx0XHRcdHRoaXMuYXBwLmZldGNoUmVxdWVzdChgJHt0aGlzLmFwcC5jb25maWcuZnVuZGEuYmFzZVVybHMuc2VhcmNofS8ke3RoaXMuYXBwLmNvbmZpZy5mdW5kYS5rZXl9P3R5cGU9aHV1ciZ6bz0vJHtjaXR5fS8ke3N0cmVldH0vKzFrbSZwYWdlPTEmcGFnZXNpemU9MjVgKSxcblx0XHRcdFx0XHRdO1xuXG5cdFx0XHRcdFx0UHJvbWlzZS5hbGwocmVxdWVzdHMpXG5cdFx0XHRcdC50aGVuKHJlc3VsdHMgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc3RyZWV0cyA9IHJlc3VsdHMubWFwKHN0cmVldCA9PiB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBzdHJlZXQuT2JqZWN0cztcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHQvLyBzb3VyY2UgYXJyYXkgY29uY2F0ZW5hdGlvbiBzb2x1dGlvbjogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNzI2NjU1MC9ob3ctdG8tZmxhdHRlbi1uZXN0ZWQtYXJyYXktaW4tamF2YXNjcmlwdCNhbnN3ZXItMzc0Njk0MTFcblx0XHRcdFx0XHRcdGxldCBvYmplY3RzID0gW10uY29uY2F0LmFwcGx5KFtdLCBzdHJlZXRzKTtcblx0XHRcdFx0XHRcdG9iamVjdHMgPSBbLi4ubmV3IFNldChvYmplY3RzKV07XG5cblx0XHRcdFx0XHRcdHRoaXMub2JqZWN0cyA9IG9iamVjdHM7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKG9iamVjdHMpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pXG5cdFx0XHQuY2F0Y2goZXJyb3IgPT4ge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RvcmU7IiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5jbGFzcyBVdGlscyB7XG5cdGdldFN0cmVldChjb21wb25lbnRzKSB7XG5cdFx0Y29tcG9uZW50cyA9IGNvbXBvbmVudHMuZmlsdGVyKGNvbXBvbmVudCA9PiB7XG5cdFx0XHRyZXR1cm4gY29tcG9uZW50LnR5cGVzLmluY2x1ZGVzKCdsb2NhbGl0eScpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGNvbXBvbmVudHNbMF0ubG9uZ19uYW1lO1xuXHR9XG5cblx0Ly8gUmVtb3ZlIGl0ZW0gZnJvbSBhcnJheSBpZiBpdCBjb250YWlucyBhIHN1YnRyaW5nXG5cdGZpbHRlckFycmF5KGFycmF5LCB2YWx1ZXMpIHtcblx0XHRyZXR1cm4gYXJyYXkuZmlsdGVyKGl0ZW0gPT4ge1xuXHRcdFx0aWYgKHZhbHVlcy5pbmNsdWRlcygna29vcCcpICYmIGl0ZW0uS29vcHByaWpzICE9PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodmFsdWVzLmluY2x1ZGVzKCdodXVyJykgJiYgaXRlbS5IdXVycHJpanMgIT09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9KTtcblx0fVxuXG5cdHNvcnRBcnJheShhcnJheSwga2V5KSB7XG5cdFx0cmV0dXJuIGFycmF5LnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdGlmICh0eXBlb2YoYVtrZXldKSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0cmV0dXJuIGFba2V5XS5sb2NhbGVDb21wYXJlKGJba2V5XSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gYVtrZXldIC0gYltrZXldO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFV0aWxzOyIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5jbGFzcyBWaWV3IHtcblx0Y29uc3RydWN0b3IoYXBwKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cblx0XHR0aGlzLiQgPSB7XG5cdFx0XHRyZXN1bHRzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0cycpLFxuXHRcdFx0cmVzdWx0c0xpc3Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXN1bHRzLWxpc3QnKSxcblx0XHRcdG5vUmVzdWx0czogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdHMgcCcpLFxuXHRcdFx0ZGV0YWlsczogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RldGFpbHMnKSxcblx0XHRcdGltYWdlQ29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2UnKSxcblx0XHRcdGJvZHk6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKSxcblx0XHRcdGNsb3NlQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2UgYScpLFxuXHRcdFx0bGFzdEltZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltYWdlIGltZycpLFxuXHRcdFx0cGFnZXM6IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZV0nKSksXG5cdFx0XHRsb2FkZXI6ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLWNvbnRhaW5lcicpLFxuXHRcdFx0ZGVzY3JpcHRpb246ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLWNvbnRhaW5lciBwJylcblx0XHR9O1xuXHR9XG5cblx0cmVuZGVyT2JqZWN0cygpIHtcblx0XHQvLyBDaGVjayBpZiB0aGVyZSBhcmVuJ3QgYW55IG9iamVjdHMgcmVuZGVyZWQgeWV0XG5cdFx0aWYgKHRoaXMuJC5yZXN1bHRzTGlzdC5pbm5lckhUTUwubGVuZ3RoID09PSAwKSB7XG5cdFx0XHR0aGlzLnNob3dMb2FkZXIodHJ1ZSwgdHJ1ZSk7XG5cdFx0XHR0aGlzLmFwcC5zdG9yZS5nZXRPYmplY3RzTmVhcmJ5KClcblx0XHRcdC50aGVuKG9iamVjdHMgPT4ge1xuXHRcdFx0XHR0aGlzLnJlbmRlckxpc3Qob2JqZWN0cyk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKGVyciA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cblx0XHRcdFx0dGhpcy4kLnJlc3VsdHMuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnRXIgaXMgaWV0cyBtaXMgZ2VnYWFuIGJpaiBoZXQgb3BoYWxlbiB2YW4gaHVpemVuIGluIHV3IGJ1dXJ0LiBQcm9iZWVyIGhldCBsYXRlciBub2cgZWVucy4nKTtcblxuXHRcdFx0XHR0aGlzLnNob3dFbGVtZW50KHRoaXMuJC5yZXN1bHRzLCB0cnVlKTtcblx0XHRcdFx0dGhpcy5zaG93TG9hZGVyKGZhbHNlKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHJlbmRlckxpc3Qob2JqZWN0cykge1xuXHRcdHRoaXMuY2xlYXJWaWV3KHRoaXMuJC5yZXN1bHRzTGlzdCk7XG5cdFx0dGhpcy5zaG93RWxlbWVudCh0aGlzLiQubm9SZXN1bHRzLCBmYWxzZSk7XG5cblx0XHRpZiAob2JqZWN0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aGlzLmFwcC5zdG9yZS5vYmplY3RzID0gb2JqZWN0cztcblx0XHRcdC8vIFJlbmRlciBhbGwgdGhlIG9iamVjdHNcblx0XHRcdG9iamVjdHMubWFwKG9iamVjdCA9PiB7XG5cdFx0XHRcdGNvbnN0ICRsaXN0SXRlbSA9IGBcblx0XHRcdFx0PGxpIGRhdGEtaWQ9XCIke29iamVjdC5JZH1cIj5cblx0XHRcdFx0PGltZyBzcmM9XCIke29iamVjdC5Gb3RvTGFyZ2V9XCIgYWx0PVwiJHtvYmplY3QuQWRyZXN9XCI+XG5cdFx0XHRcdDxhIGhyZWY9XCIjZGV0YWlscy8ke29iamVjdC5JZH0vJHtvYmplY3QuS29vcHByaWpzID8gJ2tvb3AnIDogJ2h1dXInfVwiPjxoMj4ke29iamVjdC5BZHJlc308L2gyPjwvYT5cblx0XHRcdFx0PHNwYW4+PHN0cm9uZz7igqwke29iamVjdC5Lb29wcHJpanMgPyBvYmplY3QuS29vcHByaWpzLnRvTG9jYWxlU3RyaW5nKCdjdXJyZW5jeScpIDogJyd9JHtvYmplY3QuSHV1cnByaWpzID8gb2JqZWN0Lkh1dXJwcmlqcy50b0xvY2FsZVN0cmluZygnY3VycmVuY3knKSArICcgcC9tJyA6ICcnfTwvc3Ryb25nPjwvc3Bhbj5cblx0XHRcdFx0JHtvYmplY3QuV29vbm9wcGVydmxha3RlID8gJzxzcGFuPicgKyBvYmplY3QuV29vbm9wcGVydmxha3RlICsgJ208c3VwPjI8L3N1cD48L3NwYW4+JyA6ICcnfVxuXHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdHRoaXMuJC5yZXN1bHRzTGlzdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsICRsaXN0SXRlbSk7XG5cdFx0XHR9KTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnNob3dFbGVtZW50KHRoaXMuJC5ub1Jlc3VsdHMsIHRydWUpO1xuXHRcdH1cblx0XHR0aGlzLnNob3dFbGVtZW50KHRoaXMuJC5yZXN1bHRzLCB0cnVlKTtcblx0XHR0aGlzLnNob3dMb2FkZXIoZmFsc2UpO1xuXHR9XG5cblx0cmVuZGVyT2JqZWN0KGlkLCB0eXBlKSB7XG5cdFx0dGhpcy5hcHAudmlldy5zaG93RWxlbWVudCh0aGlzLiQuaW1hZ2VDb250YWluZXIsIGZhbHNlKTtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvYmplY3QgaXNuJ3QgYWxyZWFkeSByZW5kZXJlZC5cblx0XHRpZiAodGhpcy5hcHAuc3RvcmUubGFzdERldGFpbFBhZ2UgIT09IGlkKSB7XG5cdFx0XHR0aGlzLmNsZWFyVmlldyh0aGlzLiQuZGV0YWlscyk7XG5cdFx0XHR0aGlzLnNob3dMb2FkZXIodHJ1ZSwgZmFsc2UpO1xuXHRcdFx0Ly8gR2V0IGRldGFpbHNcblx0XHRcdHRoaXMuYXBwLmZldGNoUmVxdWVzdChgJHt0aGlzLmFwcC5jb25maWcuZnVuZGEuYmFzZVVybHMub2JqZWN0c30vJHt0aGlzLmFwcC5jb25maWcuZnVuZGEua2V5fS8ke3R5cGV9LyR7aWR9YClcblx0XHRcdC50aGVuKGRldGFpbHMgPT4ge1xuXHRcdFx0XHR0aGlzLmFwcC5zdG9yZS5sYXN0RGV0YWlsUGFnZSA9IGlkO1xuXG5cdFx0XHRcdC8vIEdldCBhbGwgdGhlIG1lZGl1bSBpbWFnZXMgb2YgYW4gb2JqZWN0XG5cdFx0XHRcdGxldCBnYWxsZXJ5ID0gJyc7XG5cdFx0XHRcdGRldGFpbHMuTWVkaWEubWFwKHBpY3R1cmUgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGJpZ1BpYyA9IHBpY3R1cmUuTWVkaWFJdGVtcy5maWx0ZXIoc291cmNlID0+IHtcblx0XHRcdFx0XHRcdGlmIChzb3VyY2UuVXJsLmluY2x1ZGVzKCdtaWRkZWwnKSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc291cmNlLlVybDtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoc291cmNlLlVybC5pbmNsdWRlcygnZ3Jvb3QnKSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc291cmNlLlVybDtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoc291cmNlLlVybC5pbmNsdWRlcygnZ3JvdGVyZScpKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBzb3VyY2UuVXJsO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0cGljdHVyZS5NZWRpYUl0ZW1zLm1hcChzb3VyY2UgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHNvdXJjZS5VcmwuaW5jbHVkZXMoJ21pZGRlbCcpKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChiaWdQaWMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRcdGdhbGxlcnkgKz0gYDxhIGhyZWY9XCIjaW1hZ2UvJHtiaWdQaWNbYmlnUGljLmxlbmd0aCAtIDFdLlVybH1cIj48aW1nIHNyYz1cIiR7c291cmNlLlVybH1cIiBhbHQ9XCIke2RldGFpbHMuQWRyZXN9XCI+PC9hPmA7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gRmlsdGVyIGRlc2NyaXB0aW9uXG5cdFx0XHRcdGxldCBkZXNjcmlwdGlvbnMgPSBkZXRhaWxzLlZvbGxlZGlnZU9tc2NocmlqdmluZy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdGRlc2NyaXB0aW9ucyA9IGRlc2NyaXB0aW9ucy5maWx0ZXIoaXRlbSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0ubGVuZ3RoID4gMDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gU3RydWN0dXJlIGRlc2NyaXB0aW9uXG5cdFx0XHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25zLnJlZHVjZSgoYnVmZmVyLCBpdGVtKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGl0ZW1bMF0gPT09ICctJykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGAke2J1ZmZlcn0gPGxpPiR7aXRlbS5zdWJzdHIoMSwgaXRlbS5sZW5ndGggLSAxKX08L2xpPmA7XG5cdFx0XHRcdFx0fSBpZiAoaXRlbVtpdGVtLmxlbmd0aCAtIDJdID09PSAnOicpIHtcblx0XHRcdFx0XHRcdHJldHVybiBgJHtidWZmZXJ9IDxoMz4ke2l0ZW19PC9oMz5gO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYCR7YnVmZmVyfSA8cD4ke2l0ZW19PC9wPmA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXG5cdFx0XHRcdC8vIFNldCBjb250ZW50XG5cdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBgXG5cdFx0XHRcdDxzZWN0aW9uIGNsYXNzPVwib2JqZWN0X19pbWFnZXNcIj5cblx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7ZGV0YWlscy5Ib29mZEZvdG99XCIgYWx0PSR7ZGV0YWlscy5BZHJlc30+XG5cdFx0XHRcdFx0PHNlY3Rpb24+XG5cdFx0XHRcdFx0XHQke2dhbGxlcnl9XG5cdFx0XHRcdFx0PC9zZWN0aW9uPlxuXHRcdFx0XHQ8L3NlY3Rpb24+XG5cdFx0XHRcdDxzZWN0aW9uPlxuXHRcdFx0XHRcdDxoMT4ke2RldGFpbHMuQWRyZXN9PC9oMT5cblx0XHRcdFx0XHQ8aDI+JHtkZXRhaWxzLlBvc3Rjb2RlfSAke2RldGFpbHMuUGxhYXRzfTwvaDI+XG5cdFx0XHRcdFx0PGRsPlxuXHRcdFx0XHRcdFx0PGR0PlByaWpzOjwvZHQ+PGRkPjxzdHJvbmc+4oKsXG5cdFx0XHRcdFx0XHQke2RldGFpbHMuS29vcHByaWpzID8gZGV0YWlscy5Lb29wcHJpanMgOiBkZXRhaWxzLkh1dXJwcmlqc31cblx0XHRcdFx0XHRcdDwvc3Ryb25nPjwvZGQ+XG5cdFx0XHRcdFx0XHQ8ZHQ+QWFudGFsIGthbWVyczo8L2R0PjxkZD4ke2RldGFpbHMuQWFudGFsS2FtZXJzfTwvZGQ+XG5cdFx0XHRcdFx0XHQ8ZHQ+QWFudGFsIGJhZGthbWVyczo8L2R0PjxkZD4ke2RldGFpbHMuQWFudGFsQmFka2FtZXJzfTwvZGQ+XG5cdFx0XHRcdFx0XHQ8ZHQ+Qm91d2phYXI6PC9kdD48ZGQ+JHtkZXRhaWxzLkJvdXdqYWFyfTwvZGQ+XG5cdFx0XHRcdFx0XHQ8ZHQ+T3BwZXJ2bGFrdGU6PC9kdD48ZGQ+JHtkZXRhaWxzLldvb25PcHBlcnZsYWt0ZX0gbTxzdXA+Mjwvc3VwPjwvZGQ+XG5cdFx0XHRcdFx0PC9kbD5cblx0XHRcdFx0XHQ8cD4ke2Rlc2NyaXB0aW9ufTwvcD5cblx0XHRcdFx0PC9zZWN0aW9uPlxuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdHRoaXMuJC5kZXRhaWxzLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY29udGVudCk7XG5cblx0XHRcdFx0dGhpcy5zaG93TG9hZGVyKGZhbHNlKTtcblx0XHRcdFx0dGhpcy5zaG93RWxlbWVudCh0aGlzLiQuZGV0YWlscywgdHJ1ZSk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKGVyciA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXJJbWFnZSh1cmwpIHtcblxuXHRcdHRoaXMuJC5ib2R5LmNsYXNzTGlzdC5hZGQoJ25vLXNjcm9sbCcpO1xuXG5cdFx0aWYgKHRoaXMuJC5sYXN0SW1nKSB7XG5cdFx0XHR0aGlzLiQuaW1hZ2VDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy4kLmxhc3RJbWcpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmFwcC5zdG9yZS5sYXN0TG9jYXRpb24pIHtcblx0XHRcdHRoaXMuJC5jbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB0aGlzLmFwcC5zdG9yZS5sYXN0TG9jYXRpb24pO1xuXHRcdH1cblxuXHRcdHRoaXMuJC5pbWFnZUNvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8aW1nIHNyYz1cIiR7dXJsfVwiLz5gKTtcblx0XHR0aGlzLnNob3dFbGVtZW50KHRoaXMuJC5pbWFnZUNvbnRhaW5lciwgdHJ1ZSk7XG5cdH1cblxuXHRyZW9kZXJPYmplY3RzKHNvcnRPcHRpb24pIHtcblx0XHR0aGlzLmFwcC5zdG9yZS5vYmplY3RzID0gdGhpcy5hcHAudXRpbHMuc29ydEFycmF5KHRoaXMuYXBwLnN0b3JlLm9iamVjdHMsIHNvcnRPcHRpb24pO1xuXHRcdHRoaXMuYXBwLnN0b3JlLm9iamVjdHMubWFwKChvYmplY3QsIGkpID0+IHtcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlkPVwiJHtvYmplY3QuSWR9XCJdYCkuc3R5bGUub3JkZXIgPSBpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZmlsdGVyT2JqZWN0cyhjaGVja2VkVHlwZXMpIHtcblx0XHR0aGlzLmFwcC5zdG9yZS5maWx0ZXJlZE9iamVjdHMgPSB0aGlzLmFwcC51dGlscy5maWx0ZXJBcnJheSh0aGlzLmFwcC5zdG9yZS5vYmplY3RzLCBjaGVja2VkVHlwZXMpO1xuXHRcdHRoaXMucmVuZGVyTGlzdCh0aGlzLmFwcC5zdG9yZS5maWx0ZXJlZE9iamVjdHMpO1xuXHR9XG5cblx0Ly8gTWFrZSB0aGUgY3VycmVudCBwYWdlIHZpc2libGUgYW5kIGFsbCB0aGUgb3RoZXIgaW52aXNpYmxlXG5cdGFjdGl2YXRlUGFnZShyb3V0ZSkge1xuXHRcdHRoaXMuJC5wYWdlcy5mb3JFYWNoKCRwYWdlID0+IHtcblx0XHRcdGlmIChgIyR7JHBhZ2UuZ2V0QXR0cmlidXRlKCdpZCcpfWAgPT09IHJvdXRlKSB7XG5cdFx0XHRcdHRoaXMuc2hvd0VsZW1lbnQoJHBhZ2UsIHRydWUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zaG93RWxlbWVudCgkcGFnZSwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0c2hvd0xvYWRlcihzaG93LCBjb250ZW50KSB7XG5cdFx0dGhpcy5zaG93RWxlbWVudCh0aGlzLiQubG9hZGVyLCBzaG93KTtcblx0XHR0aGlzLnNob3dFbGVtZW50KHRoaXMuJC5kZXNjcmlwdGlvbiwgY29udGVudCk7XG5cdH1cblxuXHRzaG93RWxlbWVudCgkZWwsIHNob3cpIHtcblx0XHRpZiAoc2hvdykge1xuXHRcdFx0JGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXHRcdH0gZWxzZXtcblx0XHRcdCRlbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblx0XHR9XG5cdH1cblxuXHRjbGVhclZpZXcoJGVsKSB7XG5cdFx0JGVsLmlubmVySFRNTCA9ICcnO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXc7IiwiLyohXG4gKiByb3V0aWUgLSBhIHRpbnkgaGFzaCByb3V0ZXJcbiAqIHYwLjMuMlxuICogaHR0cDovL3Byb2plY3RzLmpnYS5tZS9yb3V0aWVcbiAqIGNvcHlyaWdodCBHcmVnIEFsbGVuIDIwMTZcbiAqIE1JVCBMaWNlbnNlXG4qL1xudmFyIFJvdXRpZT1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9e30sZT1cInJvdXRpZVwiLGY9YVtlXSxnPWZ1bmN0aW9uKGEsYil7dGhpcy5uYW1lPWIsdGhpcy5wYXRoPWEsdGhpcy5rZXlzPVtdLHRoaXMuZm5zPVtdLHRoaXMucGFyYW1zPXt9LHRoaXMucmVnZXg9aCh0aGlzLnBhdGgsdGhpcy5rZXlzLCExLCExKX07Zy5wcm90b3R5cGUuYWRkSGFuZGxlcj1mdW5jdGlvbihhKXt0aGlzLmZucy5wdXNoKGEpfSxnLnByb3RvdHlwZS5yZW1vdmVIYW5kbGVyPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5mbnMubGVuZ3RoO2M+YjtiKyspe3ZhciBkPXRoaXMuZm5zW2JdO2lmKGE9PWQpcmV0dXJuIHZvaWQgdGhpcy5mbnMuc3BsaWNlKGIsMSl9fSxnLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz10aGlzLmZucy5sZW5ndGg7Yz5iO2IrKyl0aGlzLmZuc1tiXS5hcHBseSh0aGlzLGEpfSxnLnByb3RvdHlwZS5tYXRjaD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVnZXguZXhlYyhhKTtpZighYylyZXR1cm4hMTtmb3IodmFyIGQ9MSxlPWMubGVuZ3RoO2U+ZDsrK2Qpe3ZhciBmPXRoaXMua2V5c1tkLTFdLGc9XCJzdHJpbmdcIj09dHlwZW9mIGNbZF0/ZGVjb2RlVVJJQ29tcG9uZW50KGNbZF0pOmNbZF07ZiYmKHRoaXMucGFyYW1zW2YubmFtZV09ZyksYi5wdXNoKGcpfXJldHVybiEwfSxnLnByb3RvdHlwZS50b1VSTD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnBhdGg7Zm9yKHZhciBjIGluIGEpYj1iLnJlcGxhY2UoXCIvOlwiK2MsXCIvXCIrYVtjXSk7aWYoYj1iLnJlcGxhY2UoL1xcLzouKlxcPy9nLFwiL1wiKS5yZXBsYWNlKC9cXD8vZyxcIlwiKSwtMSE9Yi5pbmRleE9mKFwiOlwiKSl0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIHBhcmFtZXRlcnMgZm9yIHVybDogXCIrYik7cmV0dXJuIGJ9O3ZhciBoPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBhIGluc3RhbmNlb2YgUmVnRXhwP2E6KGEgaW5zdGFuY2VvZiBBcnJheSYmKGE9XCIoXCIrYS5qb2luKFwifFwiKStcIilcIiksYT1hLmNvbmNhdChkP1wiXCI6XCIvP1wiKS5yZXBsYWNlKC9cXC9cXCgvZyxcIig/Oi9cIikucmVwbGFjZSgvXFwrL2csXCJfX3BsdXNfX1wiKS5yZXBsYWNlKC8oXFwvKT8oXFwuKT86KFxcdyspKD86KFxcKC4qP1xcKSkpPyhcXD8pPy9nLGZ1bmN0aW9uKGEsYyxkLGUsZixnKXtyZXR1cm4gYi5wdXNoKHtuYW1lOmUsb3B0aW9uYWw6ISFnfSksYz1jfHxcIlwiLFwiXCIrKGc/XCJcIjpjKStcIig/OlwiKyhnP2M6XCJcIikrKGR8fFwiXCIpKyhmfHxkJiZcIihbXi8uXSs/KVwifHxcIihbXi9dKz8pXCIpK1wiKVwiKyhnfHxcIlwiKX0pLnJlcGxhY2UoLyhbXFwvLl0pL2csXCJcXFxcJDFcIikucmVwbGFjZSgvX19wbHVzX18vZyxcIiguKylcIikucmVwbGFjZSgvXFwqL2csXCIoLiopXCIpLG5ldyBSZWdFeHAoXCJeXCIrYStcIiRcIixjP1wiXCI6XCJpXCIpKX0saT1mdW5jdGlvbihhLGIpe3ZhciBlPWEuc3BsaXQoXCIgXCIpLGY9Mj09ZS5sZW5ndGg/ZVswXTpudWxsO2E9Mj09ZS5sZW5ndGg/ZVsxXTplWzBdLGRbYV18fChkW2FdPW5ldyBnKGEsZiksYy5wdXNoKGRbYV0pKSxkW2FdLmFkZEhhbmRsZXIoYil9LGo9ZnVuY3Rpb24oYSxiKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBiKWkoYSxiKSxqLnJlbG9hZCgpO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe2Zvcih2YXIgYyBpbiBhKWkoYyxhW2NdKTtqLnJlbG9hZCgpfWVsc2VcInVuZGVmaW5lZFwiPT10eXBlb2YgYiYmai5uYXZpZ2F0ZShhKX07ai5sb29rdXA9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2U+ZDtkKyspe3ZhciBmPWNbZF07aWYoZi5uYW1lPT1hKXJldHVybiBmLnRvVVJMKGIpfX0sai5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kW2FdO2MmJmMucmVtb3ZlSGFuZGxlcihiKX0sai5yZW1vdmVBbGw9ZnVuY3Rpb24oKXtkPXt9LGM9W119LGoubmF2aWdhdGU9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPWIuc2lsZW50fHwhMTtjJiZvKCksc2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbi5oYXNoPWEsYyYmc2V0VGltZW91dChmdW5jdGlvbigpe24oKX0sMSl9LDEpfSxqLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYVtlXT1mLGp9O3ZhciBrPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKX0sbD1mdW5jdGlvbihhLGIpe3ZhciBjPVtdO3JldHVybiBiLm1hdGNoKGEsYyk/KGIucnVuKGMpLCEwKTohMX0sbT1qLnJlbG9hZD1mdW5jdGlvbigpe2Zvcih2YXIgYT1rKCksYj0wLGQ9Yy5sZW5ndGg7ZD5iO2IrKyl7dmFyIGU9Y1tiXTtpZihsKGEsZSkpcmV0dXJufX0sbj1mdW5jdGlvbigpe2EuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsbSwhMSk6YS5hdHRhY2hFdmVudChcIm9uaGFzaGNoYW5nZVwiLG0pfSxvPWZ1bmN0aW9uKCl7YS5yZW1vdmVFdmVudExpc3RlbmVyP2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIixtKTphLmRldGFjaEV2ZW50KFwib25oYXNoY2hhbmdlXCIsbSl9O3JldHVybiBuKCksYj9qOnZvaWQoYVtlXT1qKX07XCJ1bmRlZmluZWRcIj09dHlwZW9mIG1vZHVsZT9Sb3V0aWUod2luZG93KTptb2R1bGUuZXhwb3J0cz1Sb3V0aWUod2luZG93LCEwKTsiXX0="}