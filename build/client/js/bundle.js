(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var App=require("./modules/App.js");!function(){new App}();

},{"./modules/App.js":2}],2:[function(require,module,exports){
"use strict";function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),App=function(){function e(){_classCallCheck(this,e);var o=require("./Controller.js"),t=require("./View.js");this.$={body:document.querySelector("body"),escapeHatch:document.querySelector("body > header a"),footer:document.getElementById("footer"),lat:document.getElementById("lat"),long:document.getElementById("long"),carousel:document.querySelector(".object__images"),carouselImages:document.querySelectorAll(".object__images a"),modal:document.querySelector(".modal"),modalImage:document.querySelector(".modal img"),modalClose:document.querySelector(".modal button")},this.controller=new o(this),this.view=new t(this),this.init()}return _createClass(e,[{key:"init",value:function(){this.controller.init(),this.observeFonts();new LazyLoad({effect:"fadeIn",threshold:100})}},{key:"getCoords",value:function(){return new Promise(function(e,o){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(o){e(o.coords)}):o("Couldn't get the location from your browser")})}},{key:"observeFonts",value:function(){var e=document.documentElement;if("Promise"in navigator){var o=new FontFaceObserver("proximanova",{weight:400}).load(),t=new FontFaceObserver("proximanova",{weight:600}).load();Promise.all([o,t]).then(function(){e.classList.add("fonts-loaded")})}else e.classList.add("fonts-loaded")}}]),e}();module.exports=App;

},{"./Controller.js":3,"./View.js":4}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Controller=function(){function e(t){_classCallCheck(this,e),this.app=t}return _createClass(e,[{key:"init",value:function(){this.housesNearby(),this.carousel()}},{key:"housesNearby",value:function(){var e=this;this.app.$.footer&&this.app.getCoords().then(function(t){e.app.view.renderCoords(t)})}},{key:"carousel",value:function(){var e=this;this.app.$.carousel&&this.app.$.carouselImages.forEach(function(t){t.addEventListener("click",function(a){e.app.view.renderCarousel(t.getAttribute("href")),a.preventDefault()})}),this.app.$.modalClose&&this.app.$.modalClose.addEventListener("click",function(){e.app.view.closeModal()})}}]),e}();module.exports=Controller;

},{}],4:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),View=function(){function e(t){_classCallCheck(this,e),this.app=t}return _createClass(e,[{key:"renderCoords",value:function(e){this.app.$.footer.className="",this.app.$.lat.value=e.latitude,this.app.$.long.value=e.longitude}},{key:"renderCarousel",value:function(e){this.app.$.modalImage.setAttribute("src",e),this.app.$.body.classList.add("no-scroll"),this.showEl(this.app.$.modal,!0),this.disableLinks(!0)}},{key:"closeModal",value:function(){this.disableLinks(!1),this.app.$.body.classList.remove("no-scroll"),this.app.view.showEl(this.app.$.modal,!1)}},{key:"disableLinks",value:function(e){this.app.$.escapeHatch.setAttribute("tabindex",e?"-1":"0"),Array.from(this.app.$.carouselImages).forEach(function(t){t.setAttribute("tabindex",e?"-1":"0")})}},{key:"showEl",value:function(e,t){t?e.classList.remove("hidden"):e.classList.add("hidden")}}]),e}();module.exports=View;

},{}]},{},[1]);
